/*
 * Preferences for all optimization-algorithms, combines logic for load/save and GUI
 *
 * Christoph Bodenstein
 * TU-Ilmenau, FG SSE
 */

package timenetexperimentgenerator.optimization;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.IOException;
import java.util.Arrays;
import java.util.Properties;
import java.util.Vector;
import javax.swing.DefaultComboBoxModel;
import javax.swing.JSpinner.DefaultEditor;
import javax.swing.SpinnerNumberModel;
import timenetexperimentgenerator.support;
import timenetexperimentgenerator.typedef;
import timenetexperimentgenerator.typedef.*;

/**
 *
 * @author Christoph Bodenstein
 */
public class OptimizerPreferences extends javax.swing.JFrame {
private String propertyFile=System.getProperty("user.home")+File.separatorChar+ ".OptimizerProperties.prop";
private Properties auto=new Properties();

private String pref_LogFileAddon="";
private int pref_WrongSimulationsUntilBreak;
private int pref_WrongSimulationsPerDirection;
private typeOfStartValueEnum pref_StartValue;
private typeOfNeighborhoodEnum pref_NeighborhoodType;
private int pref_SizeOfNeighborhood;
private typeOfAnnealing pref_Cooling;
private double pref_TRatioScale;
private double pref_TAnnealScale;
private double pref_MaxTempParameter;//-->Distance for parameters (Stepwidth)
private double pref_MaxTempCost;//-->Probability of acceptance of bad solutions
private double pref_Epsilon;//Abort-Temperature for Simmulated Annealing
private typeOfAnnealingParameterCalculation pref_CalculationOfNextParameterset;//Calc of next params for Sim Anealing
private SpinnerNumberModel TRatioScaleSpinnerModel;


private int pref_NumberOfPhases;
private typeOfOptimization pref_typeOfUsedMultiPhaseOptimization;
private int pref_ConfidenceIntervallStart;
private int pref_ConfidenceIntervallEnd;
private int pref_MaxRelErrorStart;
private int pref_MaxRelErrorEnd;
private int pref_InternalParameterStart;
private int pref_InternalParameterEnd;
private boolean pref_KeepDesignSpaceAndResolution;



    /**
     * Creates new form OptimizerHillPreferences
     */
    public OptimizerPreferences() {
        TRatioScaleSpinnerModel = new SpinnerNumberModel(0.00001, 0.0, 100.0, 0.00001);
        

        initComponents();
        this.setPref_WrongSimulationsUntilBreak(support.DEFAULT_WRONG_SOLUTIONS_IN_A_ROW);
        this.setPref_WrongSimulationsPerDirection(support.DEFAULT_WRONG_SOLUTION_PER_DIRECTION);
        this.setPref_SizeOfNeighborhood(support.DEFAULT_SIZE_OF_NEIGHBORHOOD);
        this.setPref_Cooling(support.DEFAULT_TYPE_OF_ANNEALING);
        this.setPref_CalculationOfNextParameterset(support.DEFAULT_CALC_NEXT_PARAMETER);

        this.jSpinnerSizeOfNeighborhoodInPercent.setModel(new SpinnerNumberModel(1, 1, 100, 1));
        ((DefaultEditor)this.jSpinnerSizeOfNeighborhoodInPercent.getEditor()).getTextField().setEditable(false);

        ((DefaultEditor)this.jSpinnerWrongSolutionsPerDirectionUntilBreak.getEditor()).getTextField().setEditable(false);
        ((DefaultEditor)this.jSpinnerWrongSolutionsUntilBreak.getEditor()).getTextField().setEditable(false);


        /*DefaultListSelectionModel model = new DefaultListSelectionModel();
        model.addSelectionInterval(0, 5);


        this.jComboBoxOptimizationType.setRenderer(new EnabledJComboBoxRenderer(model));
        */

        Vector tmpVector=new Vector(Arrays.asList(typedef.typeOfOptimization.values()));
        tmpVector.remove(tmpVector.size()-1);
        this.jComboBoxOptimizationType.setModel(new DefaultComboBoxModel(tmpVector));

        this.loadPreferences();

        
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        measurementForm1 = new timenetexperimentgenerator.MeasurementForm();
        jLabelStartvalueForParameters = new javax.swing.JLabel();
        jComboBoxTypeOfStartValue = new javax.swing.JComboBox();
        jTextFieldLogFileAddon = new javax.swing.JTextField();
        jLabel4 = new javax.swing.JLabel();
        jCheckBoxAddPrefsToLogfilename = new javax.swing.JCheckBox();
        jButton1 = new javax.swing.JButton();
        jTabbedPane1 = new javax.swing.JTabbedPane();
        jPanelHillClimbing = new javax.swing.JPanel();
        jSpinnerWrongSolutionsPerDirectionUntilBreak = new javax.swing.JSpinner();
        jSpinnerWrongSolutionsUntilBreak = new javax.swing.JSpinner();
        jLabelWrongSolutionsUntilBreak = new javax.swing.JLabel();
        jLabelWrongSolutionsPerDirectionUntilBreak = new javax.swing.JLabel();
        jComboBoxTypeOfNeighborhood = new javax.swing.JComboBox();
        jLabelTypeOfNeighborhood = new javax.swing.JLabel();
        jSpinnerSizeOfNeighborhoodInPercent = new javax.swing.JSpinner();
        jLabel1 = new javax.swing.JLabel();
        jPanelSimAnnealing = new javax.swing.JPanel();
        jLabel2 = new javax.swing.JLabel();
        jComboBoxCalculationOfNextParameterset = new javax.swing.JComboBox();
        jLabel3 = new javax.swing.JLabel();
        jSpinnerMaxTemperatureParameters = new javax.swing.JSpinner();
        jSpinnerMaxTemperatureCost = new javax.swing.JSpinner();
        jLabel6 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        jSpinnerTRatioScale = new javax.swing.JSpinner();
        jSpinnerTAnnealScale = new javax.swing.JSpinner();
        jLabel5 = new javax.swing.JLabel();
        jSpinnerEpsilon = new javax.swing.JSpinner();
        jLabel9 = new javax.swing.JLabel();
        jComboBoxCoolingMethod = new javax.swing.JComboBox();
        jPanel1 = new javax.swing.JPanel();
        jLabel10 = new javax.swing.JLabel();
        jComboBoxCoolingMethod1 = new javax.swing.JComboBox();
        jSpinnerTRatioScale1 = new javax.swing.JSpinner();
        jLabel11 = new javax.swing.JLabel();
        jSpinnerTAnnealScale1 = new javax.swing.JSpinner();
        jLabel12 = new javax.swing.JLabel();
        jComboBoxCalculationOfNextParameterset1 = new javax.swing.JComboBox();
        jLabel13 = new javax.swing.JLabel();
        jLabel14 = new javax.swing.JLabel();
        jSpinnerMaxTemperatureParameters1 = new javax.swing.JSpinner();
        jLabel15 = new javax.swing.JLabel();
        jSpinnerMaxTemperatureCost1 = new javax.swing.JSpinner();
        jLabel16 = new javax.swing.JLabel();
        jSpinnerEpsilon1 = new javax.swing.JSpinner();
        jLabel17 = new javax.swing.JLabel();
        jPanel2 = new javax.swing.JPanel();
        jLabel18 = new javax.swing.JLabel();
        jComboBoxNumberOfPhases = new javax.swing.JComboBox();
        jLabel19 = new javax.swing.JLabel();
        jComboBoxOptimizationType = new javax.swing.JComboBox();
        jLabel20 = new javax.swing.JLabel();
        jLabel21 = new javax.swing.JLabel();
        jLabel22 = new javax.swing.JLabel();
        jLabel23 = new javax.swing.JLabel();
        jLabel24 = new javax.swing.JLabel();
        jLabel25 = new javax.swing.JLabel();
        jSeparator1 = new javax.swing.JSeparator();
        jSeparator2 = new javax.swing.JSeparator();
        jSeparator3 = new javax.swing.JSeparator();
        jSpinnerConfidenceIntervallStart = new javax.swing.JSpinner();
        jSpinnerConfidenceIntervallEnd = new javax.swing.JSpinner();
        jSpinnerMaxRelErrorEnd = new javax.swing.JSpinner();
        jSpinnerMaxRelErrorStart = new javax.swing.JSpinner();
        jSpinnerInternalParameterEnd = new javax.swing.JSpinner();
        jSpinnerInternalParameterStart = new javax.swing.JSpinner();
        jCheckBoxKeepDesignspaceAndResolution = new javax.swing.JCheckBox();

        jLabelStartvalueForParameters.setText("Startvalue for parameters");

        jComboBoxTypeOfStartValue.setModel(new DefaultComboBoxModel(typeOfStartValueEnum.values()));
        jComboBoxTypeOfStartValue.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                jComboBoxTypeOfStartValueItemStateChanged(evt);
            }
        });
        jComboBoxTypeOfStartValue.addVetoableChangeListener(new java.beans.VetoableChangeListener() {
            public void vetoableChange(java.beans.PropertyChangeEvent evt)throws java.beans.PropertyVetoException {
                jComboBoxTypeOfStartValueVetoableChange(evt);
            }
        });

        jTextFieldLogFileAddon.setToolTipText("Addon-Text for Logfilename");
        jTextFieldLogFileAddon.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jTextFieldLogFileAddonActionPerformed(evt);
            }
        });
        jTextFieldLogFileAddon.addInputMethodListener(new java.awt.event.InputMethodListener() {
            public void inputMethodTextChanged(java.awt.event.InputMethodEvent evt) {
                jTextFieldLogFileAddonInputMethodTextChanged(evt);
            }
            public void caretPositionChanged(java.awt.event.InputMethodEvent evt) {
            }
        });
        jTextFieldLogFileAddon.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                jTextFieldLogFileAddonKeyReleased(evt);
            }
        });
        jTextFieldLogFileAddon.addVetoableChangeListener(new java.beans.VetoableChangeListener() {
            public void vetoableChange(java.beans.PropertyChangeEvent evt)throws java.beans.PropertyVetoException {
                jTextFieldLogFileAddonVetoableChange(evt);
            }
        });

        jLabel4.setText("Addon-Text for Logfile");

        jCheckBoxAddPrefsToLogfilename.setSelected(true);
        jCheckBoxAddPrefsToLogfilename.setText("Add Prefs to Logfilename");

        jButton1.setText("Save");
        jButton1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton1ActionPerformed(evt);
            }
        });

        jSpinnerWrongSolutionsPerDirectionUntilBreak.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                jSpinnerWrongSolutionsPerDirectionUntilBreakStateChanged(evt);
            }
        });
        jSpinnerWrongSolutionsPerDirectionUntilBreak.addVetoableChangeListener(new java.beans.VetoableChangeListener() {
            public void vetoableChange(java.beans.PropertyChangeEvent evt)throws java.beans.PropertyVetoException {
                jSpinnerWrongSolutionsPerDirectionUntilBreakVetoableChange(evt);
            }
        });

        jSpinnerWrongSolutionsUntilBreak.addChangeListener(new javax.swing.event.ChangeListener() {
            public void stateChanged(javax.swing.event.ChangeEvent evt) {
                jSpinnerWrongSolutionsUntilBreakStateChanged(evt);
            }
        });
        jSpinnerWrongSolutionsUntilBreak.addVetoableChangeListener(new java.beans.VetoableChangeListener() {
            public void vetoableChange(java.beans.PropertyChangeEvent evt)throws java.beans.PropertyVetoException {
                jSpinnerWrongSolutionsUntilBreakVetoableChange(evt);
            }
        });

        jLabelWrongSolutionsUntilBreak.setText("Wrong Solutions until break");

        jLabelWrongSolutionsPerDirectionUntilBreak.setText("Wrong Solutions per direction/parameter until break");

        jComboBoxTypeOfNeighborhood.setModel(new DefaultComboBoxModel(typeOfNeighborhoodEnum.values()));
        jComboBoxTypeOfNeighborhood.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                jComboBoxTypeOfNeighborhoodItemStateChanged(evt);
            }
        });
        jComboBoxTypeOfNeighborhood.addVetoableChangeListener(new java.beans.VetoableChangeListener() {
            public void vetoableChange(java.beans.PropertyChangeEvent evt)throws java.beans.PropertyVetoException {
                jComboBoxTypeOfNeighborhoodVetoableChange(evt);
            }
        });

        jLabelTypeOfNeighborhood.setText("Type of Neighborhood");

        jLabel1.setText("Size of Neighborhood (in % of Designspace)");

        javax.swing.GroupLayout jPanelHillClimbingLayout = new javax.swing.GroupLayout(jPanelHillClimbing);
        jPanelHillClimbing.setLayout(jPanelHillClimbingLayout);
        jPanelHillClimbingLayout.setHorizontalGroup(
            jPanelHillClimbingLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelHillClimbingLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanelHillClimbingLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanelHillClimbingLayout.createSequentialGroup()
                        .addComponent(jLabelTypeOfNeighborhood, javax.swing.GroupLayout.PREFERRED_SIZE, 276, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jComboBoxTypeOfNeighborhood, 0, 140, Short.MAX_VALUE)
                        .addContainerGap(386, Short.MAX_VALUE))
                    .addGroup(jPanelHillClimbingLayout.createSequentialGroup()
                        .addGroup(jPanelHillClimbingLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel1)
                            .addGroup(jPanelHillClimbingLayout.createSequentialGroup()
                                .addGroup(jPanelHillClimbingLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(jLabelWrongSolutionsUntilBreak)
                                    .addComponent(jLabelWrongSolutionsPerDirectionUntilBreak))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPanelHillClimbingLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                    .addComponent(jSpinnerWrongSolutionsPerDirectionUntilBreak)
                                    .addComponent(jSpinnerWrongSolutionsUntilBreak, javax.swing.GroupLayout.PREFERRED_SIZE, 76, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(jSpinnerSizeOfNeighborhoodInPercent, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, 62, javax.swing.GroupLayout.PREFERRED_SIZE))))
                        .addContainerGap(392, Short.MAX_VALUE))))
        );
        jPanelHillClimbingLayout.setVerticalGroup(
            jPanelHillClimbingLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanelHillClimbingLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanelHillClimbingLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabelTypeOfNeighborhood)
                    .addComponent(jComboBoxTypeOfNeighborhood, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanelHillClimbingLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel1)
                    .addComponent(jSpinnerSizeOfNeighborhoodInPercent, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(14, 14, 14)
                .addGroup(jPanelHillClimbingLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(jPanelHillClimbingLayout.createSequentialGroup()
                        .addComponent(jSpinnerWrongSolutionsUntilBreak, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jSpinnerWrongSolutionsPerDirectionUntilBreak, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanelHillClimbingLayout.createSequentialGroup()
                        .addComponent(jLabelWrongSolutionsUntilBreak, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jLabelWrongSolutionsPerDirectionUntilBreak, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(6, 6, 6)))
                .addContainerGap(87, Short.MAX_VALUE))
        );

        jTabbedPane1.addTab("HillClimbing", jPanelHillClimbing);

        jPanelSimAnnealing.setLayout(null);

        jLabel2.setText("Calculation of next Parameterset");
        jPanelSimAnnealing.add(jLabel2);
        jLabel2.setBounds(20, 60, 220, 16);

        jComboBoxCalculationOfNextParameterset.setModel(new DefaultComboBoxModel(typeOfAnnealingParameterCalculation.values()));
        jPanelSimAnnealing.add(jComboBoxCalculationOfNextParameterset);
        jComboBoxCalculationOfNextParameterset.setBounds(260, 60, 170, 27);

        jLabel3.setText("Max. Temp. for Parameters(T-0-par)");
        jPanelSimAnnealing.add(jLabel3);
        jLabel3.setBounds(20, 110, 230, 16);

        jSpinnerMaxTemperatureParameters.setModel(new javax.swing.SpinnerNumberModel(1.0d, 0.0d, 1.0d, 0.01d));
        jSpinnerMaxTemperatureParameters.setEditor(new javax.swing.JSpinner.NumberEditor(jSpinnerMaxTemperatureParameters, "#.##"));
        jPanelSimAnnealing.add(jSpinnerMaxTemperatureParameters);
        jSpinnerMaxTemperatureParameters.setBounds(260, 110, 90, 28);

        jSpinnerMaxTemperatureCost.setModel(new javax.swing.SpinnerNumberModel(1.0d, 0.0d, 1.0d, 0.01d));
        jSpinnerMaxTemperatureCost.setEditor(new javax.swing.JSpinner.NumberEditor(jSpinnerMaxTemperatureCost, "#.##"));
        jPanelSimAnnealing.add(jSpinnerMaxTemperatureCost);
        jSpinnerMaxTemperatureCost.setBounds(260, 140, 90, 28);

        jLabel6.setText("Max. Temp. for Cost(T-0-cost)");
        jPanelSimAnnealing.add(jLabel6);
        jLabel6.setBounds(20, 140, 200, 16);

        jLabel7.setText("TRatioScale");
        jPanelSimAnnealing.add(jLabel7);
        jLabel7.setBounds(480, 30, 80, 16);

        jLabel8.setText("TAnnealScale");
        jPanelSimAnnealing.add(jLabel8);
        jLabel8.setBounds(480, 60, 100, 16);

        jSpinnerTRatioScale.setModel(TRatioScaleSpinnerModel);
        jSpinnerTRatioScale.setEditor(new javax.swing.JSpinner.NumberEditor(jSpinnerTRatioScale, "#.#####"));
        jSpinnerTRatioScale.setValue(0.00001);
        jPanelSimAnnealing.add(jSpinnerTRatioScale);
        jSpinnerTRatioScale.setBounds(580, 20, 100, 28);

        jSpinnerTAnnealScale.setModel(new javax.swing.SpinnerNumberModel(100.0d, 0.0d, 10000.0d, 1.0d));
        jPanelSimAnnealing.add(jSpinnerTAnnealScale);
        jSpinnerTAnnealScale.setBounds(580, 60, 100, 28);

        jLabel5.setText("Epsilon (Abort-Temperature)");
        jPanelSimAnnealing.add(jLabel5);
        jLabel5.setBounds(20, 180, 210, 16);

        jSpinnerEpsilon.setModel(new javax.swing.SpinnerNumberModel(0.01d, 0.0d, 1.0d, 0.01d));
        jSpinnerEpsilon.setEditor(new javax.swing.JSpinner.NumberEditor(jSpinnerEpsilon, "#.##"));
        jSpinnerEpsilon.setValue(0.01);
        jPanelSimAnnealing.add(jSpinnerEpsilon);
        jSpinnerEpsilon.setBounds(260, 180, 90, 28);

        jLabel9.setText("Cooling Method");
        jPanelSimAnnealing.add(jLabel9);
        jLabel9.setBounds(20, 20, 100, 16);

        jComboBoxCoolingMethod.setModel(new DefaultComboBoxModel(typeOfAnnealing.values()));
        jPanelSimAnnealing.add(jComboBoxCoolingMethod);
        jComboBoxCoolingMethod.setBounds(260, 20, 170, 27);

        jTabbedPane1.addTab("Simulated Annealing", jPanelSimAnnealing);

        jPanel1.setLayout(null);

        jLabel10.setText("Cooling Method");
        jPanel1.add(jLabel10);
        jLabel10.setBounds(20, 60, 100, 16);

        jComboBoxCoolingMethod1.setModel(new DefaultComboBoxModel(typeOfAnnealing.values()));
        jPanel1.add(jComboBoxCoolingMethod1);
        jComboBoxCoolingMethod1.setBounds(260, 60, 170, 27);

        jSpinnerTRatioScale1.setModel(TRatioScaleSpinnerModel);
        jSpinnerTRatioScale1.setEditor(new javax.swing.JSpinner.NumberEditor(jSpinnerTRatioScale1, "#.#####"));
        jSpinnerTRatioScale1.setValue(0.00001);
        jPanel1.add(jSpinnerTRatioScale1);
        jSpinnerTRatioScale1.setBounds(580, 60, 100, 28);

        jLabel11.setText("TRatioScale");
        jPanel1.add(jLabel11);
        jLabel11.setBounds(480, 70, 80, 16);

        jSpinnerTAnnealScale1.setModel(new javax.swing.SpinnerNumberModel(100.0d, 0.0d, 10000.0d, 1.0d));
        jPanel1.add(jSpinnerTAnnealScale1);
        jSpinnerTAnnealScale1.setBounds(580, 100, 100, 28);

        jLabel12.setText("TAnnealScale");
        jPanel1.add(jLabel12);
        jLabel12.setBounds(480, 100, 100, 16);

        jComboBoxCalculationOfNextParameterset1.setModel(new DefaultComboBoxModel(typeOfAnnealingParameterCalculation.values()));
        jPanel1.add(jComboBoxCalculationOfNextParameterset1);
        jComboBoxCalculationOfNextParameterset1.setBounds(260, 100, 170, 27);

        jLabel13.setText("Calculation of next Parameterset");
        jPanel1.add(jLabel13);
        jLabel13.setBounds(20, 100, 220, 16);

        jLabel14.setText("Max. Temp. for Parameters(T-0-par)");
        jPanel1.add(jLabel14);
        jLabel14.setBounds(20, 150, 230, 16);

        jSpinnerMaxTemperatureParameters1.setModel(new javax.swing.SpinnerNumberModel(1.0d, 0.0d, 1.0d, 0.01d));
        jSpinnerMaxTemperatureParameters1.setEditor(new javax.swing.JSpinner.NumberEditor(jSpinnerMaxTemperatureParameters1, "#.##"));
        jPanel1.add(jSpinnerMaxTemperatureParameters1);
        jSpinnerMaxTemperatureParameters1.setBounds(260, 150, 90, 28);

        jLabel15.setText("Max. Temp. for Cost(T-0-cost)");
        jPanel1.add(jLabel15);
        jLabel15.setBounds(20, 180, 200, 16);

        jSpinnerMaxTemperatureCost1.setModel(new javax.swing.SpinnerNumberModel(1.0d, 0.0d, 1.0d, 0.01d));
        jSpinnerMaxTemperatureCost1.setEditor(new javax.swing.JSpinner.NumberEditor(jSpinnerMaxTemperatureCost1, "#.##"));
        jPanel1.add(jSpinnerMaxTemperatureCost1);
        jSpinnerMaxTemperatureCost1.setBounds(260, 180, 90, 28);

        jLabel16.setText("Epsilon (Abort-Temperature)");
        jPanel1.add(jLabel16);
        jLabel16.setBounds(20, 220, 210, 16);

        jSpinnerEpsilon1.setModel(new javax.swing.SpinnerNumberModel(0.01d, 0.0d, 1.0d, 0.01d));
        jSpinnerEpsilon1.setEditor(new javax.swing.JSpinner.NumberEditor(jSpinnerEpsilon1, "#.##"));
        jSpinnerEpsilon1.setValue(0.01);
        jPanel1.add(jSpinnerEpsilon1);
        jSpinnerEpsilon1.setBounds(260, 220, 90, 28);

        jLabel17.setFont(new java.awt.Font("Lucida Grande", 1, 16));
        jLabel17.setText("Parameters for second Phase are taken from Standard-Panel (Simulated Annealing)!!!");
        jPanel1.add(jLabel17);
        jLabel17.setBounds(20, 28, 787, 20);

        jTabbedPane1.addTab("Two-Phase", jPanel1);

        jPanel2.setLayout(null);

        jLabel18.setText("Used Optimization Algorithm");
        jPanel2.add(jLabel18);
        jLabel18.setBounds(30, 70, 220, 16);

        jComboBoxNumberOfPhases.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "2", "3", "4", "5", "6", "7", "8", "9", "10" }));
        jPanel2.add(jComboBoxNumberOfPhases);
        jComboBoxNumberOfPhases.setBounds(260, 30, 72, 27);

        jLabel19.setText("Number of Optimization-Phases");
        jPanel2.add(jLabel19);
        jLabel19.setBounds(28, 37, 220, 16);

        jComboBoxOptimizationType.setModel(new DefaultComboBoxModel(typeOfOptimization.values()));
        jComboBoxOptimizationType.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                jComboBoxOptimizationTypeItemStateChanged(evt);
            }
        });
        jComboBoxOptimizationType.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jComboBoxOptimizationTypeActionPerformed(evt);
            }
        });
        jPanel2.add(jComboBoxOptimizationType);
        jComboBoxOptimizationType.setBounds(260, 70, 150, 27);

        jLabel20.setText("Confidence-Intervall Start");
        jPanel2.add(jLabel20);
        jLabel20.setBounds(30, 110, 210, 16);

        jLabel21.setText("Internal Parameter End");
        jPanel2.add(jLabel21);
        jLabel21.setBounds(510, 60, 170, 16);

        jLabel22.setText("Confidence-Intervall End");
        jPanel2.add(jLabel22);
        jLabel22.setBounds(30, 140, 170, 16);

        jLabel23.setText("Maximum Rel. Error Start");
        jPanel2.add(jLabel23);
        jLabel23.setBounds(30, 170, 170, 16);

        jLabel24.setText("Maximum Rel. Error End");
        jPanel2.add(jLabel24);
        jLabel24.setBounds(30, 200, 170, 16);

        jLabel25.setText("Internal Parameter Start");
        jPanel2.add(jLabel25);
        jLabel25.setBounds(510, 30, 170, 16);
        jPanel2.add(jSeparator1);
        jSeparator1.setBounds(30, 100, 400, 10);
        jPanel2.add(jSeparator2);
        jSeparator2.setBounds(30, 230, 400, 10);
        jPanel2.add(jSeparator3);
        jSeparator3.setBounds(30, 160, 400, 10);

        jSpinnerConfidenceIntervallStart.setModel(new javax.swing.SpinnerNumberModel(85, 85, 99, 1));
        jPanel2.add(jSpinnerConfidenceIntervallStart);
        jSpinnerConfidenceIntervallStart.setBounds(260, 110, 70, 28);

        jSpinnerConfidenceIntervallEnd.setModel(new javax.swing.SpinnerNumberModel(99, 85, 99, 1));
        jPanel2.add(jSpinnerConfidenceIntervallEnd);
        jSpinnerConfidenceIntervallEnd.setBounds(260, 140, 70, 28);

        jSpinnerMaxRelErrorEnd.setModel(new javax.swing.SpinnerNumberModel(1, 1, 15, 1));
        jPanel2.add(jSpinnerMaxRelErrorEnd);
        jSpinnerMaxRelErrorEnd.setBounds(260, 200, 70, 28);

        jSpinnerMaxRelErrorStart.setModel(new javax.swing.SpinnerNumberModel(5, 1, 15, 1));
        jPanel2.add(jSpinnerMaxRelErrorStart);
        jSpinnerMaxRelErrorStart.setBounds(260, 170, 70, 28);

        jSpinnerInternalParameterEnd.setModel(new javax.swing.SpinnerNumberModel(0, 0, 3, 1));
        jPanel2.add(jSpinnerInternalParameterEnd);
        jSpinnerInternalParameterEnd.setBounds(700, 50, 70, 28);

        jSpinnerInternalParameterStart.setModel(new javax.swing.SpinnerNumberModel(0, 0, 3, 1));
        jPanel2.add(jSpinnerInternalParameterStart);
        jSpinnerInternalParameterStart.setBounds(700, 20, 70, 28);

        jCheckBoxKeepDesignspaceAndResolution.setText("Keep Designspace and Resolution");
        jPanel2.add(jCheckBoxKeepDesignspaceAndResolution);
        jCheckBoxKeepDesignspaceAndResolution.setBounds(510, 90, 260, 23);

        jTabbedPane1.addTab("Multi-Phase", jPanel2);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(layout.createSequentialGroup()
                                .addGap(77, 77, 77)
                                .addComponent(jLabelStartvalueForParameters, javax.swing.GroupLayout.DEFAULT_SIZE, 186, Short.MAX_VALUE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(jComboBoxTypeOfStartValue, javax.swing.GroupLayout.PREFERRED_SIZE, 167, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(121, 121, 121))
                            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addGroup(layout.createSequentialGroup()
                                    .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 239, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                    .addComponent(jTextFieldLogFileAddon, javax.swing.GroupLayout.PREFERRED_SIZE, 189, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addGap(36, 36, 36)
                                    .addComponent(jButton1))
                                .addComponent(jCheckBoxAddPrefsToLogfilename)))
                        .addGap(292, 292, 292))
                    .addComponent(jTabbedPane1)))
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabelStartvalueForParameters)
                    .addComponent(jComboBoxTypeOfStartValue, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addComponent(jTabbedPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 300, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jCheckBoxAddPrefsToLogfilename)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel4)
                    .addComponent(jTextFieldLogFileAddon, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jButton1))
                .addContainerGap())
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void jTextFieldLogFileAddonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jTextFieldLogFileAddonActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_jTextFieldLogFileAddonActionPerformed

    private void jSpinnerWrongSolutionsPerDirectionUntilBreakVetoableChange(java.beans.PropertyChangeEvent evt)throws java.beans.PropertyVetoException {//GEN-FIRST:event_jSpinnerWrongSolutionsPerDirectionUntilBreakVetoableChange
    
    }//GEN-LAST:event_jSpinnerWrongSolutionsPerDirectionUntilBreakVetoableChange

    private void jSpinnerWrongSolutionsUntilBreakVetoableChange(java.beans.PropertyChangeEvent evt)throws java.beans.PropertyVetoException {//GEN-FIRST:event_jSpinnerWrongSolutionsUntilBreakVetoableChange
    
    }//GEN-LAST:event_jSpinnerWrongSolutionsUntilBreakVetoableChange

    private void jComboBoxTypeOfStartValueVetoableChange(java.beans.PropertyChangeEvent evt)throws java.beans.PropertyVetoException {//GEN-FIRST:event_jComboBoxTypeOfStartValueVetoableChange
    
    }//GEN-LAST:event_jComboBoxTypeOfStartValueVetoableChange

    private void jTextFieldLogFileAddonVetoableChange(java.beans.PropertyChangeEvent evt)throws java.beans.PropertyVetoException {//GEN-FIRST:event_jTextFieldLogFileAddonVetoableChange
    
    }//GEN-LAST:event_jTextFieldLogFileAddonVetoableChange

    private void jComboBoxTypeOfStartValueItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_jComboBoxTypeOfStartValueItemStateChanged
    
    }//GEN-LAST:event_jComboBoxTypeOfStartValueItemStateChanged

    private void jSpinnerWrongSolutionsUntilBreakStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_jSpinnerWrongSolutionsUntilBreakStateChanged
    
    }//GEN-LAST:event_jSpinnerWrongSolutionsUntilBreakStateChanged

    private void jSpinnerWrongSolutionsPerDirectionUntilBreakStateChanged(javax.swing.event.ChangeEvent evt) {//GEN-FIRST:event_jSpinnerWrongSolutionsPerDirectionUntilBreakStateChanged
    
    }//GEN-LAST:event_jSpinnerWrongSolutionsPerDirectionUntilBreakStateChanged

    private void jTextFieldLogFileAddonInputMethodTextChanged(java.awt.event.InputMethodEvent evt) {//GEN-FIRST:event_jTextFieldLogFileAddonInputMethodTextChanged
    
    }//GEN-LAST:event_jTextFieldLogFileAddonInputMethodTextChanged

    private void jTextFieldLogFileAddonKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_jTextFieldLogFileAddonKeyReleased
    
    }//GEN-LAST:event_jTextFieldLogFileAddonKeyReleased

    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed
    this.savePreferences();
    }//GEN-LAST:event_jButton1ActionPerformed

    private void jComboBoxTypeOfNeighborhoodItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_jComboBoxTypeOfNeighborhoodItemStateChanged
        // TODO add your handling code here:
    }//GEN-LAST:event_jComboBoxTypeOfNeighborhoodItemStateChanged

    private void jComboBoxTypeOfNeighborhoodVetoableChange(java.beans.PropertyChangeEvent evt)throws java.beans.PropertyVetoException {//GEN-FIRST:event_jComboBoxTypeOfNeighborhoodVetoableChange
        // TODO add your handling code here:
    }//GEN-LAST:event_jComboBoxTypeOfNeighborhoodVetoableChange

    private void jComboBoxOptimizationTypeItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_jComboBoxOptimizationTypeItemStateChanged
        support.setChosenOptimizerType((typedef.typeOfOptimization)this.jComboBoxOptimizationType.getSelectedItem());
}//GEN-LAST:event_jComboBoxOptimizationTypeItemStateChanged

    private void jComboBoxOptimizationTypeActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jComboBoxOptimizationTypeActionPerformed
        // TODO add your handling code here:
}//GEN-LAST:event_jComboBoxOptimizationTypeActionPerformed


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton jButton1;
    private javax.swing.JCheckBox jCheckBoxAddPrefsToLogfilename;
    private javax.swing.JCheckBox jCheckBoxKeepDesignspaceAndResolution;
    private javax.swing.JComboBox jComboBoxCalculationOfNextParameterset;
    private javax.swing.JComboBox jComboBoxCalculationOfNextParameterset1;
    private javax.swing.JComboBox jComboBoxCoolingMethod;
    private javax.swing.JComboBox jComboBoxCoolingMethod1;
    private javax.swing.JComboBox jComboBoxNumberOfPhases;
    private javax.swing.JComboBox jComboBoxOptimizationType;
    public javax.swing.JComboBox jComboBoxTypeOfNeighborhood;
    public javax.swing.JComboBox jComboBoxTypeOfStartValue;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel23;
    private javax.swing.JLabel jLabel24;
    private javax.swing.JLabel jLabel25;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JLabel jLabelStartvalueForParameters;
    private javax.swing.JLabel jLabelTypeOfNeighborhood;
    private javax.swing.JLabel jLabelWrongSolutionsPerDirectionUntilBreak;
    private javax.swing.JLabel jLabelWrongSolutionsUntilBreak;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanelHillClimbing;
    private javax.swing.JPanel jPanelSimAnnealing;
    private javax.swing.JSeparator jSeparator1;
    private javax.swing.JSeparator jSeparator2;
    private javax.swing.JSeparator jSeparator3;
    private javax.swing.JSpinner jSpinnerConfidenceIntervallEnd;
    private javax.swing.JSpinner jSpinnerConfidenceIntervallStart;
    private javax.swing.JSpinner jSpinnerEpsilon;
    private javax.swing.JSpinner jSpinnerEpsilon1;
    private javax.swing.JSpinner jSpinnerInternalParameterEnd;
    private javax.swing.JSpinner jSpinnerInternalParameterStart;
    private javax.swing.JSpinner jSpinnerMaxRelErrorEnd;
    private javax.swing.JSpinner jSpinnerMaxRelErrorStart;
    private javax.swing.JSpinner jSpinnerMaxTemperatureCost;
    private javax.swing.JSpinner jSpinnerMaxTemperatureCost1;
    private javax.swing.JSpinner jSpinnerMaxTemperatureParameters;
    private javax.swing.JSpinner jSpinnerMaxTemperatureParameters1;
    private javax.swing.JSpinner jSpinnerSizeOfNeighborhoodInPercent;
    private javax.swing.JSpinner jSpinnerTAnnealScale;
    private javax.swing.JSpinner jSpinnerTAnnealScale1;
    private javax.swing.JSpinner jSpinnerTRatioScale;
    private javax.swing.JSpinner jSpinnerTRatioScale1;
    private javax.swing.JSpinner jSpinnerWrongSolutionsPerDirectionUntilBreak;
    private javax.swing.JSpinner jSpinnerWrongSolutionsUntilBreak;
    private javax.swing.JTabbedPane jTabbedPane1;
    private javax.swing.JTextField jTextFieldLogFileAddon;
    private timenetexperimentgenerator.MeasurementForm measurementForm1;
    // End of variables declaration//GEN-END:variables


    /**
     * Load Preferences from defined file
     */
    public void loadPreferences(){
    try {
                FileInputStream in=new FileInputStream(propertyFile);
		auto.load(in);
                in.close();

    this.setPref_WrongSimulationsUntilBreak(support.loadIntFromProperties("pref_WrongSimulationsUntilBreak", support.DEFAULT_WRONG_SOLUTIONS_IN_A_ROW, auto));
    //support.log(Integer.toString(support.loadIntFromProperties("pref_WrongSimulationsUntilBreak", getPref_WrongSimulationsUntilBreak(), auto)));
    support.log("Loaded pref_WrongSimulationsUntilBreak is "+getPref_WrongSimulationsUntilBreak());

        this.setPref_WrongSimulationsPerDirection(support.loadIntFromProperties("pref_WrongSimulationsPerDirection", support.DEFAULT_WRONG_SOLUTION_PER_DIRECTION, auto));
    support.log("Loaded pref_WrongSimulationsPerDirection is "+getPref_WrongSimulationsPerDirection());

        this.setPref_SizeOfNeighborhood(support.loadIntFromProperties("pref_SizeOfNeighborhood", support.DEFAULT_SIZE_OF_NEIGHBORHOOD, auto));
    support.log("Loaded Size of Neighborhood is "+getPref_SizeOfNeighborhood());

        this.setPref_StartValue(typeOfStartValueEnum.valueOf(auto.getProperty("pref_StartValue", support.DEFAULT_TYPE_OF_STARTVALUE.toString())));
    support.log("Loaded StartValue is "+getPref_StartValue());

        this.setPref_NeighborhoodType(typeOfNeighborhoodEnum.valueOf(auto.getProperty("pref_NeighborhoodType", support.DEFAULT_TYPE_OF_NEIGHBORHOOD.toString())));
    support.log("Loaded Neighborhoodtype is "+getPref_NeighborhoodType());

        this.setPref_Cooling(typeOfAnnealing.valueOf(auto.getProperty("pref_Cooling", support.DEFAULT_TYPE_OF_ANNEALING.toString())));
    support.log("Loaded Annealing method is "+getPref_Cooling());

        this.setPref_TScaleRatio(support.loadDoubleFromProperties("pref_TScaleRatio", support.DEFAULT_T_RATIO_SCALE, auto));
    support.log("Loaded TRatioScale is "+getPref_TRatioScale());

        this.setPref_TAnnealScale(support.loadDoubleFromProperties("pref_TAnnealScale", support.DEFAULT_T_ANNEAL_SCALE, auto));
    support.log("Loaded TAnnealScale is "+getPref_TAnnealScale());

        this.setPref_MaxTempParameter(support.loadDoubleFromProperties("pref_MaxTempParameter", support.DEFAULT_MAXTEMP_PARAMETER, auto));
    support.log("Loaded MaxTempParameter is "+getPref_MaxTempParameter());

        this.setPref_MaxTempCost(support.loadDoubleFromProperties("pref_MaxTempCost", support.DEFAULT_MAXTEMP_COST, auto));
    support.log("Loaded MaxTempCost is "+getPref_MaxTempCost());

        this.setPref_Epsilon(support.loadDoubleFromProperties("pref_Epsilon", support.DEFAULT_EPSILON, auto));
    support.log("Loaded Epsilon is "+getPref_Epsilon());

        this.setPref_CalculationOfNextParameterset(typeOfAnnealingParameterCalculation.valueOf(auto.getProperty("pref_CalculationOfNextParameterset", support.DEFAULT_CALC_NEXT_PARAMETER.toString())) );
    support.log("Loaded Calculation of next Parameterset is "+this.getPref_CalculationOfNextParameterset().toString());

        this.setPref_LogFileAddon(auto.getProperty("pref_LogFileAddon", ""));
    support.log("Loaded Optimizer_Logfile-Addon is "+this.jTextFieldLogFileAddon.getText());


        this.setPref_NumberOfPhases(support.loadIntFromProperties("pref_NumberOfPhases", support.DEFAULT_NumberOfPhases, auto));
    support.log("Loaded pref_NumberOfPhases is "+this.getPref_NumberOfPhases());
        this.setPref_ConfidenceIntervallStart(support.loadIntFromProperties("pref_ConfidenceIntervallStart", support.DEFAULT_ConfidenceIntervallStart, auto));
    support.log("Loaded pref_ConfidenceIntervallStart is "+this.getPref_ConfidenceIntervallStart());
        this.setPref_ConfidenceIntervallEnd(support.loadIntFromProperties("pref_ConfidenceIntervallEnd", support.DEFAULT_ConfidenceIntervallEnd, auto));
    support.log("Loaded pref_ConfidenceIntervallEnd is "+this.getPref_ConfidenceIntervallEnd());
        this.setPref_MaxRelErrorStart(support.loadIntFromProperties("pref_MaxRelErrorStart", support.DEFAULT_MaxRelErrorStart, auto));
    support.log("Loaded pref_MaxRelErrorStart is "+this.getPref_MaxRelErrorStart());
        this.setPref_MaxRelErrorEnd(support.loadIntFromProperties("pref_MaxRelErrorEnd", support.DEFAULT_MaxRelErrorEnd, auto));
    support.log("Loaded pref_MaxRelErrorEnd is "+this.getPref_MaxRelErrorEnd());
        this.setPref_InternalParameterStart(support.loadIntFromProperties("pref_InternalParameterStart", support.DEFAULT_InternalParameterStart, auto));
    support.log("Loaded pref_InternalParameterStart is "+this.getPref_InternalParameterStart());
        this.setPref_InternalParameterEnd(support.loadIntFromProperties("pref_InternalParameterEnd", support.DEFAULT_InternalParameterEnd, auto));
    support.log("Loaded pref_InternalParameterEnd is "+this.getPref_InternalParameterEnd());

        this.setPref_typeOfUsedMultiPhaseOptimization(typeOfOptimization.valueOf(auto.getProperty("pref_typeOfUsedMultiPhaseOptimization", support.DEFAULT_typeOfUsedMultiPhaseOptimization.toString())));
    support.log("Loaded pref_typeOfUsedMultiPhaseOptimization is "+this.getPref_typeOfUsedMultiPhaseOptimization().toString());
        this.setPref_KeepDesignSpaceAndResolution(Boolean.valueOf(auto.getProperty("pref_KeepDesignSpaceAndResolution", Boolean.toString(support.DEFAULT_KeepDesignSpaceAndResolution))));
    support.log("Loaded pref_KeepDesignSpaceAndResolution is "+this.getPref_KeepDesignSpaceAndResolution());

	} catch (IOException e) {
		// Exception bearbeiten
            support.log("Error while loading Optimizer-Properties.");
	}
    
    }
    
    /**
     * Save Preferences to defined file
     */
    public void savePreferences(){
    support.log("Saving Properties of Optimization");
        try{
            
        //Setting Parameters of HillClimbing
        auto.setProperty("pref_WrongSimulationsUntilBreak", Integer.toString(getPref_WrongSimulationsUntilBreak()));
        auto.setProperty("pref_WrongSimulationsPerDirection", Integer.toString(getPref_WrongSimulationsPerDirection()));
        auto.setProperty("pref_SizeOfNeighborhood", Integer.toString(getPref_SizeOfNeighborhood()));

        auto.setProperty("pref_StartValue", getPref_StartValue().toString());
        auto.setProperty("pref_NeighborhoodType", getPref_NeighborhoodType().toString());

        //Setting Parameters of Simulated Annealing
        auto.setProperty("pref_Cooling", getPref_Cooling().toString());
        auto.setProperty("pref_TScaleRatio", support.getString(this.getPref_TRatioScale()));
        auto.setProperty("pref_TAnnealScale", support.getString(this.getPref_TAnnealScale()));
        auto.setProperty("pref_MaxTempParameter", support.getString(this.getPref_MaxTempParameter()));
        auto.setProperty("pref_MaxTempCost", support.getString(this.getPref_MaxTempCost()));
        auto.setProperty("pref_Epsilon", Double.toString(getPref_Epsilon()) ) ;


        //Setting Parameters of MultiPhase Optimization
        auto.setProperty("pref_NumberOfPhases", Integer.toString(this.getPref_NumberOfPhases()));
        auto.setProperty("pref_ConfidenceIntervallStart", Integer.toString(this.getPref_ConfidenceIntervallStart()));
        auto.setProperty("pref_ConfidenceIntervallEnd", Integer.toString(this.getPref_ConfidenceIntervallEnd()));
        auto.setProperty("pref_MaxRelErrorStart", Integer.toString(this.getPref_MaxRelErrorStart()));
        auto.setProperty("pref_MaxRelErrorEnd", Integer.toString(this.getPref_MaxRelErrorEnd()));
        auto.setProperty("pref_InternalParameterStart", Integer.toString(this.getPref_InternalParameterStart()));
        auto.setProperty("pref_InternalParameterEnd", Integer.toString(this.getPref_InternalParameterEnd()));
        auto.setProperty("pref_typeOfUsedMultiPhaseOptimization", this.getPref_typeOfUsedMultiPhaseOptimization().toString());
        auto.setProperty("pref_KeepDesignSpaceAndResolution", Boolean.toString(this.getPref_KeepDesignSpaceAndResolution()));


        auto.setProperty("pref_LogFileAddon", this.jTextFieldLogFileAddon.getText());
        auto.setProperty("pref_CalculationOfNextParameterset", this.getPref_CalculationOfNextParameterset().toString());
        
        File parserprops =  new File(propertyFile);
        auto.store(new FileOutputStream(parserprops), "ExperimentGenerator-Properties");
        }catch(IOException e){
        support.log("Problem Saving the properties.");
        }
    
    }

    /**
     * @return the pref_WrongSimulationsUntilBreak
     */
    public int getPref_WrongSimulationsUntilBreak() {
        pref_WrongSimulationsUntilBreak=(Integer)this.jSpinnerWrongSolutionsUntilBreak.getValue();
        return pref_WrongSimulationsUntilBreak;
    }

    /**
     * @param pref_WrongSimulationsUntilBreak the pref_WrongSimulationsUntilBreak to set
     */
    public void setPref_WrongSimulationsUntilBreak(int pref_WrongSimulationsUntilBreak) {
        this.pref_WrongSimulationsUntilBreak = pref_WrongSimulationsUntilBreak;
        this.jSpinnerWrongSolutionsUntilBreak.setValue(pref_WrongSimulationsUntilBreak);
    }

    /**
     * @return the pref_WrongSimulationsPerDirection
     */
    public int getPref_WrongSimulationsPerDirection() {
        pref_WrongSimulationsPerDirection=(Integer)this.jSpinnerWrongSolutionsPerDirectionUntilBreak.getValue();
        return pref_WrongSimulationsPerDirection;
    }

    /**
     * @param pref_WrongSimulationsPerDirection the pref_WrongSimulationsPerDirection to set
     */
    public void setPref_WrongSimulationsPerDirection(int pref_WrongSimulationsPerDirection) {
        this.pref_WrongSimulationsPerDirection = pref_WrongSimulationsPerDirection;
        this.jSpinnerWrongSolutionsPerDirectionUntilBreak.setValue(pref_WrongSimulationsPerDirection);
    }

    /**
     * @return the pref_LogFileAddon
     */
    public String getPref_LogFileAddon() {
    this.pref_LogFileAddon=this.jTextFieldLogFileAddon.getText();
    String addonString=pref_LogFileAddon;

        if(this.jCheckBoxAddPrefsToLogfilename.isSelected()){

            switch(support.getChosenOptimizerType()){
                case HillClimbing:
                    addonString+="_WSIMPERDIR_"+this.getPref_WrongSimulationsPerDirection()+"_WSIM_"+this.getPref_WrongSimulationsUntilBreak()+"_StartAt_"+this.jComboBoxTypeOfStartValue.getSelectedItem();
                    addonString+="_TypOfNeighborhood_"+this.jComboBoxTypeOfNeighborhood.getSelectedItem();
                    addonString+="_SizeOfNeighborhood_"+this.getPref_SizeOfNeighborhood();
                    break;
                case SimAnnealing:
                    addonString+="_StartAt_"+this.jComboBoxTypeOfStartValue.getSelectedItem();
                    addonString+="_TAnnealScale_"+this.getPref_TAnnealScale();
                    addonString+="_TRatioScale_"+this.getPref_TRatioScale();
                    addonString+="_Epsilon_"+this.getPref_Epsilon();
                    addonString+="_Cooling_"+this.getPref_Cooling();
                    addonString+="_MaxTempPara_"+this.getPref_MaxTempParameter();
                    addonString+="_MaxTempCost_"+this.getPref_MaxTempCost();
                    break;
                case MultiPhase:
                    break;

                case TwoPhase:
                    break;

                case Genetic:
                    //TODO Add Infos to this Algorithm here!
                    break;
                case ChargedSystemSearch:
                    //TODO Add Infos to this Algorithm here!
                    break;
                case ABC:
                    //TODO Add Infos to this Algorithm here!
                    break;
            }
            
        
        }
        return addonString;
    }

    /**
     * @param pref_LogFileAddon the pref_LogFileAddon to set
     */
    public void setPref_LogFileAddon(String pref_LogFileAddon) {
        this.jTextFieldLogFileAddon.setText(pref_LogFileAddon);
        this.pref_LogFileAddon = pref_LogFileAddon;
    }

    /**
     * @return the pref_StartValue
     */
    public typeOfStartValueEnum getPref_StartValue() {
        pref_StartValue=(typeOfStartValueEnum)this.jComboBoxTypeOfStartValue.getSelectedItem();
        return pref_StartValue;
    }

    /**
     * @param pref_StartValue the pref_StartValue to set
     */
    public void setPref_StartValue(typeOfStartValueEnum pref_StartValue) {
        this.jComboBoxTypeOfStartValue.setSelectedItem(pref_StartValue);
        this.pref_StartValue = pref_StartValue;
    }

    /**
     * @return the pref_NeighborhoodType
     */
    public typeOfNeighborhoodEnum getPref_NeighborhoodType() {
        pref_NeighborhoodType=(typeOfNeighborhoodEnum)this.jComboBoxTypeOfNeighborhood.getSelectedItem();
        return pref_NeighborhoodType;
    }

    /**
     * @param pref_NeighborhoodType the pref_NeighborhoodType to set
     */
    public void setPref_NeighborhoodType(typeOfNeighborhoodEnum pref_NeighborhoodType) {
        this.jComboBoxTypeOfNeighborhood.setSelectedItem(pref_NeighborhoodType);
        this.pref_NeighborhoodType = pref_NeighborhoodType;
    }

    /**
     * @return the pref_SizeOfNeighborhood
     */
    public int getPref_SizeOfNeighborhood() {
        this.pref_SizeOfNeighborhood=(Integer)this.jSpinnerSizeOfNeighborhoodInPercent.getValue();
        return pref_SizeOfNeighborhood;
    }

    /**
     * @param pref_SizeOfNeighborhood the pref_SizeOfNeighborhood to set
     */
    public void setPref_SizeOfNeighborhood(int pref_SizeOfNeighborhood) {
        this.jSpinnerSizeOfNeighborhoodInPercent.setValue(pref_SizeOfNeighborhood);
        this.pref_SizeOfNeighborhood = pref_SizeOfNeighborhood;
    }

    /**
     * @return the pref_Cooling, the Type of Annealing
     */
    public typeOfAnnealing getPref_Cooling() {
        this.pref_Cooling=(typeOfAnnealing)this.jComboBoxCoolingMethod.getSelectedItem();
        return pref_Cooling;
    }

    /**
     * @param pref_Cooling the pref_Cooling to set
     */
    public void setPref_Cooling(typeOfAnnealing pref_Cooling) {
        this.jComboBoxCoolingMethod.setSelectedItem(pref_Cooling);
        this.pref_Cooling = pref_Cooling;
    }

    /**
     * @return the pref_TRatioScale
     */
    public double getPref_TRatioScale() {
        this.pref_TRatioScale=(Double)this.jSpinnerTRatioScale.getValue();
        return pref_TRatioScale;
    }

    /**
     * @param pref_TRatioScale the pref_TRatioScale to set
     */
    public void setPref_TScaleRatio(double pref_TScaleRatio) {
        this.jSpinnerTRatioScale.setValue(pref_TScaleRatio);
        this.pref_TRatioScale = pref_TScaleRatio;
    }

    /**
     * @return the pref_TAnnealScale
     */
    public double getPref_TAnnealScale() {
        this.pref_TAnnealScale=(Double)( this.jSpinnerTAnnealScale.getValue());
        return pref_TAnnealScale;
    }

    /**
     * @param pref_TAnnealScale the pref_TAnnealScale to set
     */
    public void setPref_TAnnealScale(double pref_TAnnealScale) {
        this.jSpinnerTAnnealScale.setValue(pref_TAnnealScale);
        this.pref_TAnnealScale = pref_TAnnealScale;
    }

    /**
     * @return the pref_MaxTempParameter
     */
    public double getPref_MaxTempParameter() {
        this.pref_MaxTempParameter=(Double)this.jSpinnerMaxTemperatureParameters.getValue();
        return pref_MaxTempParameter;
    }

    /**
     * @param pref_MaxTempParameter the pref_MaxTempParameter to set
     */
    public void setPref_MaxTempParameter(double pref_MaxTempParameter) {
        this.jSpinnerMaxTemperatureParameters.setValue(pref_MaxTempParameter);
        this.pref_MaxTempParameter = pref_MaxTempParameter;
    }

    /**
     * @return the pref_MaxTempCost
     */
    public double getPref_MaxTempCost() {
        this.pref_MaxTempCost=(Double)jSpinnerMaxTemperatureCost.getValue();
        return pref_MaxTempCost;
    }

    /**
     * @param pref_MaxTempCost the pref_MaxTempCost to set
     */
    public void setPref_MaxTempCost(double pref_MaxTempCost) {
        this.jSpinnerMaxTemperatureCost.setValue(pref_MaxTempCost);
        this.pref_MaxTempCost = pref_MaxTempCost;
    }

    /**
     * @return the pref_Epsilon
     */
    public double getPref_Epsilon() {
        this.pref_Epsilon = (Double)jSpinnerEpsilon.getValue();
        return pref_Epsilon;
    }

    /**
     * @param pref_Epsilon the pref_Epsilon to set
     */
    public void setPref_Epsilon(double pref_Epsilon) {
        this.jSpinnerEpsilon.setValue(pref_Epsilon);
        this.pref_Epsilon = pref_Epsilon;
    }

    /**
     * @return the pref_CalculationOfNextParameterset
     */
    public typeOfAnnealingParameterCalculation getPref_CalculationOfNextParameterset() {
        pref_CalculationOfNextParameterset=(typeOfAnnealingParameterCalculation)this.jComboBoxCalculationOfNextParameterset.getSelectedItem();
        return pref_CalculationOfNextParameterset;
    }

    /**
     * @param pref_CalculationOfNextParameterset the pref_CalculationOfNextParameterset to set
     */
    public void setPref_CalculationOfNextParameterset(typeOfAnnealingParameterCalculation pref_CalculationOfNextParameterset) {
        this.jComboBoxCalculationOfNextParameterset.setSelectedItem(pref_CalculationOfNextParameterset);
        this.pref_CalculationOfNextParameterset = pref_CalculationOfNextParameterset;
    }

    /**
     * @return the pref_NumberOfPhases
     */
    public int getPref_NumberOfPhases() {
        this.pref_NumberOfPhases=Integer.valueOf(  (String)this.jComboBoxNumberOfPhases.getSelectedItem());
        return pref_NumberOfPhases;
    }

    /**
     * @param pref_NumberOfPhases the pref_NumberOfPhases to set
     */
    public void setPref_NumberOfPhases(int pref_NumberOfPhases) {
        this.jComboBoxNumberOfPhases.setSelectedItem(Integer.toString(pref_NumberOfPhases));
        this.pref_NumberOfPhases = pref_NumberOfPhases;
    }

    /**
     * @return the pref_typeOfUsedMultiPhaseOptimization
     */
    public typeOfOptimization getPref_typeOfUsedMultiPhaseOptimization() {
        this.pref_typeOfUsedMultiPhaseOptimization=(typeOfOptimization)this.jComboBoxOptimizationType.getSelectedItem();
        return pref_typeOfUsedMultiPhaseOptimization;
    }

    /**
     * @param pref_typeOfUsedMultiPhaseOptimization the pref_typeOfUsedMultiPhaseOptimization to set
     */
    public void setPref_typeOfUsedMultiPhaseOptimization(typeOfOptimization pref_typeOfUsedMultiPhaseOptimization) {
        this.jComboBoxOptimizationType.setSelectedItem(pref_typeOfUsedMultiPhaseOptimization);
        this.pref_typeOfUsedMultiPhaseOptimization = pref_typeOfUsedMultiPhaseOptimization;
    }

    /**
     * @return the pref_ConfidenceIntervallStart
     */
    public int getPref_ConfidenceIntervallStart() {
        this.pref_ConfidenceIntervallStart=(Integer)jSpinnerConfidenceIntervallStart.getValue();
        return pref_ConfidenceIntervallStart;
    }

    /**
     * @param pref_ConfidenceIntervallStart the pref_ConfidenceIntervallStart to set
     */
    public void setPref_ConfidenceIntervallStart(int pref_ConfidenceIntervallStart) {
        this.jSpinnerConfidenceIntervallStart.setValue(pref_ConfidenceIntervallStart);
        this.pref_ConfidenceIntervallStart = pref_ConfidenceIntervallStart;
    }

    /**
     * @return the pref_ConfidenceIntervallEnd
     */
    public int getPref_ConfidenceIntervallEnd() {
        this.pref_ConfidenceIntervallEnd=(Integer)jSpinnerConfidenceIntervallEnd.getValue();
        return pref_ConfidenceIntervallEnd;
    }

    /**
     * @param pref_ConfidenceIntervallEnd the pref_ConfidenceIntervallEnd to set
     */
    public void setPref_ConfidenceIntervallEnd(int pref_ConfidenceIntervallEnd) {
        this.jSpinnerConfidenceIntervallEnd.setValue(pref_ConfidenceIntervallEnd);
        this.pref_ConfidenceIntervallEnd = pref_ConfidenceIntervallEnd;
    }

    /**
     * @return the pref_MaxRelErrorStart
     */
    public int getPref_MaxRelErrorStart() {
        this.pref_MaxRelErrorStart=(Integer)jSpinnerMaxRelErrorStart.getValue();
        return pref_MaxRelErrorStart;
    }

    /**
     * @param pref_MaxRelErrorStart the pref_MaxRelErrorStart to set
     */
    public void setPref_MaxRelErrorStart(int pref_MaxRelErrorStart) {
        this.jSpinnerMaxRelErrorStart.setValue(pref_MaxRelErrorStart);
        this.pref_MaxRelErrorStart = pref_MaxRelErrorStart;
    }

    /**
     * @return the pref_MaxRelErrorEnd
     */
    public int getPref_MaxRelErrorEnd() {
        this.pref_MaxRelErrorEnd=(Integer)jSpinnerMaxRelErrorEnd.getValue();
        return pref_MaxRelErrorEnd;
    }

    /**
     * @param pref_MaxRelErrorEnd the pref_MaxRelErrorEnd to set
     */
    public void setPref_MaxRelErrorEnd(int pref_MaxRelErrorEnd) {
        jSpinnerMaxRelErrorEnd.setValue(pref_MaxRelErrorEnd);
        this.pref_MaxRelErrorEnd = pref_MaxRelErrorEnd;
    }

    /**
     * @return the pref_InternalParameterStart
     */
    public int getPref_InternalParameterStart() {
        this.pref_InternalParameterStart=(Integer)jSpinnerInternalParameterStart.getValue();
        return pref_InternalParameterStart;
    }

    /**
     * @param pref_InternalParameterStart the pref_InternalParameterStart to set
     */
    public void setPref_InternalParameterStart(int pref_InternalParameterStart) {
        jSpinnerInternalParameterStart.setValue(pref_InternalParameterStart);
        this.pref_InternalParameterStart = pref_InternalParameterStart;
    }

    /**
     * @return the pref_InternalParameterEnd
     */
    public int getPref_InternalParameterEnd() {
        this.pref_InternalParameterEnd=(Integer)jSpinnerInternalParameterEnd.getValue();
        return pref_InternalParameterEnd;
    }

    /**
     * @param pref_InternalParameterEnd the pref_InternalParameterEnd to set
     */
    public void setPref_InternalParameterEnd(int pref_InternalParameterEnd) {
        jSpinnerInternalParameterEnd.setValue(pref_InternalParameterEnd);
        this.pref_InternalParameterEnd = pref_InternalParameterEnd;
    }


    /**
     * @return the pref_KeepDesignSpaceAndResolution
     */
    public boolean getPref_KeepDesignSpaceAndResolution() {
        this.pref_KeepDesignSpaceAndResolution=jCheckBoxKeepDesignspaceAndResolution.isSelected();
        return pref_KeepDesignSpaceAndResolution;
    }

    /**
     * @param pref_KeepDesignSpaceAndResolution the pref_KeepDesignSpaceAndResolution to set
     */
    public void setPref_KeepDesignSpaceAndResolution(boolean pref_KeepDesignSpaceAndResolution) {
        jCheckBoxKeepDesignspaceAndResolution.setSelected(pref_KeepDesignSpaceAndResolution);
        this.pref_KeepDesignSpaceAndResolution = pref_KeepDesignSpaceAndResolution;
    }
    
}
